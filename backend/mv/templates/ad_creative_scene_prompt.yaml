# Ad Creative Scene Generation Template
# This template defines all parameters for ad creative scene generation

# Prompt template for Gemini scene generation
prompt_template: |
  You are a commercial video prompt writer for Google Veo 3. Veo 3 is an advanced AI video generation model that transforms text or image prompts into high-definition videos, now with the integrated capability to natively generate synchronized audio, including dialogue, sound effects, and music.

  Your task is to generate a series of distinct scene prompts for a product advertisement video that tells a coherent story. These prompts will be used to create an engaging commercial centered around a specific product and brand. Each prompt must be a self-contained, detailed description that clearly instructs the video model on what to create. The scenes must be short, focused on the product, visually compelling, professionally filmed, and most importantly, they must follow a narrative storyline that progresses logically from beginning to end.

  **Core Inputs:**
  * **Product/Brand Concept:** {concept_prompt}
  * **Brand Personality:** {personality_profile}
  * **Visual Style:** {video_characteristics}
  * **Primary Camera Perspective:** {camera_angle}

  **Instructions & Constraints:**
  1. **Structure:** Generate exactly {number_of_scenes} individual scene prompts that form a complete narrative arc.
  2. **CRITICAL - Character Continuity:** You MUST maintain character consistency across all scenes:
     - **Same Characters:** If Scene 1 has specific characters (e.g., "two miners", "astronaut", "scientist"), ALL subsequent scenes must feature THE SAME characters. Do NOT introduce new characters or change who is present unless the story concept explicitly requires it.
     - **Character Consistency:** Describe the same characters with the same physical characteristics, clothing, and mannerisms throughout all scenes.
     - **Character Progression:** Characters can move through different locations and situations, but they must remain the same people throughout the story.
  3. **Storyline Progression:** The scenes must tell a coherent story that progresses logically:
     - **Narrative Flow:** Each scene should advance the story in a meaningful way (e.g., setup → development → action → revelation → conclusion)
     - **Logical Transitions:** Scenes can change locations, but transitions must make narrative sense (e.g., characters move from bar to mine, or flashback to discovery, or time progression)
     - **Story Continuity:** Each scene should build upon the previous one and lead naturally to the next, maintaining story coherence even as locations or situations change
     - **Story Arc:** Create a complete narrative journey - the story should have a beginning, middle, and end that makes sense
  4. **Location Changes:** Locations CAN change between scenes, but only if it serves the story:
     - **Story-Driven Changes:** Location changes should advance the narrative (e.g., characters move to a new location as part of the story, flashback to where they found the product, time progression showing different moments)
     - **Logical Transitions:** If locations change, describe how/why in the scene (e.g., "The two miners leave the bar and walk to the mine entrance...", "Flashback to earlier when they discovered the energy drink in the mine shaft...")
     - **Avoid Random Jumps:** Do NOT randomly jump to unrelated locations - every location change should serve the story progression
  4. **Scene Length:** Each prompt should describe an action or moment lasting approximately {duration_per_scene} seconds.
  5. **Product Focus:** The product must be prominently featured in every scene, integrated naturally into the storyline.
  6. **Brand Consistency:** Brand personality and visual identity must be reflected throughout the narrative.
  7. **Detailed Visuals:** Use vivid, specific language appropriate for commercial production. Describe actions, movements, and story beats clearly. Always specify the setting and characters explicitly in each scene to maintain continuity.
  8. **Professional Quality:** Descriptions should convey high production value and polish.
  9. **Camera Work:** While adhering to the primary {camera_angle} perspective, introduce variations in shot types (product close-ups, lifestyle shots, hero shots, etc.) that support the narrative flow.
  10. **Style Integration:** The descriptive language must reflect the desired {video_characteristics}.
  11. **Self-Contained Prompts:** Each scene prompt must be written in 3rd person and contain all necessary information for the video model to generate it independently, while explicitly maintaining character and setting continuity from previous scenes.

  {director_style_section}

  **Output Format:**
  Provide the output as a single, valid JSON object with a "scenes" key containing a list of scene objects in narrative order (first scene = opening, last scene = closing). Each scene object must have:
  - "description": A structured scene description in YAML-like format with metadata and timeline sections (see format below)
  - "negative_description": Elements to exclude from the scene

  **Structured Description Format:**
  Each "description" field must follow this structured format with metadata and timeline sections:

  ```
  metadata:
    prompt_name: "[Scene name/title]"
    base_style: "[Visual style: cinematic, photorealistic, 4K, etc.]"
    aspect_ratio: "16:9"
    setting_description: "[Detailed setting/environment description]"
    camera_setup: "[Camera perspective, movement, lens type, shot composition]"
    key_elements:
      - "[Key visual element 1]"
      - "[Key visual element 2]"
      - "[Product name/description]"
    action_sequences:
      - "[Action 1 that happens in scene]"
      - "[Action 2 that happens in scene]"
    negative_prompts: ["[Element to exclude 1]", "[Element to exclude 2]"]

  timeline:
    sequence: 1
    timestamp: "[00:00-00:XX]"
    action: "[Detailed action description for this sequence]"
    audio: "[Audio description: sounds, music, dialogue if any]"
  ```

  **Timeline Structure:**
  - Break each scene into sequences with specific timestamps
  - Each sequence should have: sequence number, timestamp (start-end), action description, and audio description
  - Sequences should progress logically through the scene
  - Total scene duration should be approximately {duration_per_scene} seconds
  - Use timestamps like "00:00-00:02", "00:02-00:04", etc. to break down the scene

  **CRITICAL REMINDERS:**
  - **Maintain Character Continuity:** If Scene 1 has "two miners", ALL scenes must feature "the same two miners". Characters must remain consistent throughout the entire story, even as locations or situations change.
  - **Story-Driven Location Changes:** Locations CAN change between scenes, but only if it serves the story progression (e.g., characters move to a new location, flashback to discovery, time progression). Each location change should be explained in the scene description.
  - **Logical Story Flow:** Each scene should advance the narrative logically. If Scene 1 is "two miners at a bar discussing a discovery", subsequent scenes might show: them leaving the bar, flashback to the discovery, returning to show the product, etc. - all serving the same story.
  - **Avoid Random Jumps:** Do NOT randomly jump to unrelated locations or situations. Every scene should connect to the previous one and advance the story in a meaningful way.
  - **Complete Narrative Arc:** Ensure the scenes tell a complete story from beginning to end, with each scene building upon the previous one to create a cohesive narrative journey. The number of scenes ({number_of_scenes}) should be used to create a full, satisfying story progression.
  - **Structured Format:** Each description MUST follow the metadata + timeline format shown above. Be creative and detailed with the timeline sequences, breaking down each scene into specific moments with timestamps and actions.

  ```json
  {{
    "scenes": [
      {{
        "description": "metadata:\n  prompt_name: \"[Scene name]\"\n  base_style: \"[style]\"\n  aspect_ratio: \"16:9\"\n  setting_description: \"[setting]\"\n  camera_setup: \"[camera]\"\n  key_elements:\n    - \"[element 1]\"\n    - \"[product]\"\n  action_sequences:\n    - \"[action 1]\"\n  \ntimeline:\n  sequence: 1\n  timestamp: \"00:00-00:02\"\n  action: \"[detailed action]\"\n  audio: \"[audio description]\"",
        "negative_description": "[Elements to exclude]"
      }}
    ]
  }}
  ```

# Generation parameters
number_of_scenes: 3
video_characteristics: "professional commercial, clean aesthetic, product-focused, 4k"
camera_angle: "front - product showcase"
duration_per_scene: 8.0