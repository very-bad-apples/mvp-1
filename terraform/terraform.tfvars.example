# =============================================================================
# Terraform Variables - Example Configuration
# =============================================================================
# Copy this file to terraform.tfvars and fill in your values
# DO NOT commit terraform.tfvars to Git!
# =============================================================================

# =============================================================================
# AWS Configuration
# =============================================================================

aws_region      = "us-east-1"
environment     = "dev"  # Options: dev, staging, prod
bucket_name     = "bad-apples-video-storage"  # Must be globally unique!

# =============================================================================
# API Keys (All Optional - Leave empty "" if not using)
# =============================================================================

# Anthropic Claude - For AI text generation and scene creation
# Get from: https://console.anthropic.com/settings/keys
anthropic_api_key = ""

# OpenAI - Alternative AI provider
# Get from: https://platform.openai.com/api-keys
openai_api_key = ""

# Replicate - For video generation models
# Get from: https://replicate.com/account/api-tokens
replicate_api_key = ""

# ElevenLabs - For voice/audio generation
# Get from: https://elevenlabs.io/app/settings/api-keys
elevenlabs_api_key = ""

# Google Gemini - Optional AI provider
# Get from: https://makersuite.google.com/app/apikey
gemini_api_key = ""

# AWS Credentials (for S3 access)
# Note: ECS tasks can also use IAM roles instead of access keys
aws_access_key_id     = ""
aws_secret_access_key = ""

# Database URL
database_url = "sqlite:///./video_generator.db"

# =============================================================================
# CORS Configuration
# =============================================================================

cors_allowed_origins = [
  "http://localhost:3000",
  "http://localhost:3001",
  # Add your production frontend URLs here:
  # "https://yourdomain.com",
  # "https://www.yourdomain.com",
  # "https://app.yourdomain.com"
]

# =============================================================================
# ECS Configuration
# =============================================================================

ecs_cluster_name     = "bad-apples-cluster"
ecs_service_name     = "bad-apples-backend-service"
ecs_task_family      = "bad-apples-backend-task"
ecr_repository_name  = "bad-apples-backend"
container_name       = "bad-apples-backend"
container_port       = 8000

# Task Resources
ecs_task_cpu    = 1024  # 1 vCPU (Options: 256, 512, 1024, 2048, 4096)
ecs_task_memory = 2048  # 2 GB (Must be compatible with CPU)

# Auto-scaling
ecs_desired_count = 1  # Number of tasks to run
ecs_min_capacity  = 1  # Minimum tasks for auto-scaling
ecs_max_capacity  = 4  # Maximum tasks for auto-scaling

autoscaling_target_cpu    = 70  # Scale out at 70% CPU
autoscaling_target_memory = 80  # Scale out at 80% memory

# =============================================================================
# Networking
# =============================================================================

create_vpc = true
vpc_cidr   = "10.0.0.0/16"

# =============================================================================
# Health Checks
# =============================================================================

health_check_path                = "/health"
health_check_interval            = 30
health_check_timeout             = 5
health_check_healthy_threshold   = 2
health_check_unhealthy_threshold = 3

# =============================================================================
# Monitoring & Logging
# =============================================================================

log_retention_days = 7      # CloudWatch log retention (1, 3, 5, 7, 14, 30...)
enable_ecs_exec    = false  # Enable for debugging (allows shell access)
enable_monitoring  = false  # Enable CloudWatch detailed monitoring

# =============================================================================
# Advanced Options
# =============================================================================

# Use AWS Graviton (ARM64) processors - 20% cost savings
use_graviton = true

# HTTPS Configuration (requires ACM certificate)
enable_https            = false
certificate_arn         = ""
redirect_http_to_https  = true

# ALB Configuration
alb_idle_timeout           = 60
enable_deletion_protection = false

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
# 
# 1. Copy this file:
#    cp terraform.tfvars.example terraform.tfvars
# 
# 2. Edit terraform.tfvars and fill in your API keys
# 
# 3. Make sure terraform.tfvars is in .gitignore:
#    echo "terraform/terraform.tfvars" >> .gitignore
# 
# 4. Initialize and apply:
#    cd terraform
#    terraform init
#    terraform apply
# 
# 5. Get outputs:
#    terraform output
#    terraform output -raw alb_url
# 
# =============================================================================
